---
title: Java 偏向锁
date: 2025-08-01 15:59:18
categories: 
tags:
  - Java
---
偏向锁于 JDK1.6 引入，JDK15 中已被废弃，可以通过参数 `-XX:+UseBiasedLocking` 启用。

早期线程安全的集合如 HashTable，Vector 等都依赖于 synchronized，而大多数情况下不存在线程竞争，使用偏向锁可以减少这种情况下的同步开销，偏向锁会偏向于第一个获取它的线程。

当有其他线程尝试获取锁时偏向锁会进行撤销操作。撤销操作需要等待全局安全点，暂停持有锁的线程并检查是否在执行同步块中的代码，如果是则升级为轻量锁，否则其他线程可以竞争该锁。所以高并发的场景偏向锁会导致STW时间过长，于是在 JDK15 中被弃用。


